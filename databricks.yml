bundle:
  name: a2a-gateway

variables:
  name_prefix:
    description: "Prefix for all resource names"
    default: "marcin"
  catalog_name:
    description: "Unity Catalog catalog name"
    default: "marcin_demo"
  schema_name:
    description: "Schema for A2A connections"
    default: "a2a_demo"

sync:
  include:
    - notebooks/*

resources:
  apps:
    a2a_gateway:
      name: "${var.name_prefix}-a2a-gateway"
      description: "A2A Gateway for agent discovery and proxying"
      source_code_path: ./gateway

    echo_agent:
      name: "${var.name_prefix}-echo-agent"
      description: "Echo Agent for A2A testing"
      source_code_path: ./src/agents/echo

    calculator_agent:
      name: "${var.name_prefix}-calculator-agent"
      description: "Calculator Agent for A2A demo"
      source_code_path: ./src/agents/calculator

    # Uncomment to deploy the Assistant Agent (requires available app slots)
    # assistant_agent:
    #   name: "${var.name_prefix}-assistant-agent"
    #   description: "Assistant Agent - orchestrates other A2A agents"
    #   source_code_path: ./src/agents/assistant

targets:
  dev:
    default: true
    presets:
      name_prefix: "${var.name_prefix}-"
    # Uses default CLI profile. Override with: databricks bundle deploy -p <profile>
